# Руководство по разработке Motiv Sunrise

## Структура проекта

Motiv Sunrise v2.0 имеет оптимизированную структуру с разделением кода на логические модули:

### Основные файлы

- `index.html` - основной HTML-файл приложения
- `app_optimized.js` - объединенный JavaScript с логикой приложения
- `styles_optimized.css` - объединенные стили приложения

### Модули генератора мелодий

- `melody_generator/integration.js` - интеграция генератора в основной проект
- `melody_generator/melody_generator_new.js` - основной генератор мелодий
- `melody_generator/patterns.js` - паттерны для генерации мелодий
- `melody_generator/player.js` - модуль воспроизведения мелодий
- `melody_generator/scales.js` - музыкальные гаммы и аккорды

### Прочие файлы

- `audio_manifest.json` - манифест аудиофайлов с мотивациями
- `manifest.json` - PWA-манифест для установки приложения
- `sw.js` - Service Worker для офлайн-работы и кэширования

## Запуск проекта локально

1. Установите Python (если еще не установлен)
2. Откройте терминал в директории проекта
3. Выполните команду: `python -m http.server 8000`
4. Откройте в браузере: `http://localhost:8000`

## Разработка

### JavaScript

Основная логика приложения находится в `app_optimized.js`. При внесении изменений:

1. Сохраните файл
2. Обновите страницу в браузере (Ctrl+F5 или Cmd+Shift+R)

### CSS

Стили находятся в `styles_optimized.css`. При внесении изменений:

1. Сохраните файл
2. Обновите страницу в браузере

### Генератор мелодий

Генератор мелодий разбит на модули в директории `melody_generator/`. При внесении изменений:

1. Сохраните соответствующий файл
2. Обновите страницу в браузере

## Отладка

### Консоль браузера

Для отладки используйте консоль разработчика в браузере (F12):

- Проверяйте ошибки в вкладке "Console"
- Используйте `console.log()` для вывода отладочной информации
- Для анализа сетевых запросов используйте вкладку "Network"

### Мобильные устройства

Для тестирования на мобильных устройствах:

1. В Chrome: F12 → Иконка мобильного устройства
2. Выберите устройство или настройте свое разрешение
3. Проверьте адаптивность и функциональность

## Сборка для продакшена

Для подготовки к публикации:

1. Проверьте все функции приложения
2. Убедитесь, что все пути к файлам корректны
3. Проверьте работу PWA (установка на устройство)
4. Обновите версию в `manifest.json` при необходимости

## Советы по оптимизации

### JavaScript

- Используйте `const` и `let` вместо `var`
- Избегайте глобальных переменных
- Используйте стрелочные функции для краткости
- Разделяйте код на логические блоки

### CSS

- Используйте CSS-переменные для единообразия
- Применяйте мобильный-first подход
- Оптимизируйте изображения и иконки
- Минимизируйте количество перерисовок

### Производительность

- Ленивая загрузка аудиофайлов
- Кэширование данных в localStorage
- Оптимизация анимаций
- Минимизация запросов к сети

## Релиз новой версии

1. Обновите версию в `manifest.json`
2. Обновите версию кэша в `sw.js`
3. Протестируйте все функции
4. Опубликуйте изменения
